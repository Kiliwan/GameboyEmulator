\hypertarget{timer_8h}{}\section{timer.\+h File Reference}
\label{timer_8h}\index{timer.\+h@{timer.\+h}}


Game Boy Timer simulation header.  


{\ttfamily \#include \char`\"{}bit.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}cpu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}error.\+h\char`\"{}}\newline
Include dependency graph for timer.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structgbtimer__t}{gbtimer\+\_\+t}
\begin{DoxyCompactList}\small\item\em Timer type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{timer_8h_a393fe1eef23646727e708bd1ffd7b58f}\label{timer_8h_a393fe1eef23646727e708bd1ffd7b58f}} 
\#define {\bfseries R\+E\+G\+\_\+\+D\+IV}~0x\+F\+F04
\item 
\mbox{\Hypertarget{timer_8h_ac2fa033146057139abfc15f66deec90d}\label{timer_8h_ac2fa033146057139abfc15f66deec90d}} 
\#define {\bfseries R\+E\+G\+\_\+\+T\+I\+MA}~0x\+F\+F05
\item 
\mbox{\Hypertarget{timer_8h_a2f205e57182ef733b66725a0087e468c}\label{timer_8h_a2f205e57182ef733b66725a0087e468c}} 
\#define {\bfseries R\+E\+G\+\_\+\+T\+MA}~0x\+F\+F06
\item 
\mbox{\Hypertarget{timer_8h_aea2c29430b35009339802505bbb48605}\label{timer_8h_aea2c29430b35009339802505bbb48605}} 
\#define {\bfseries R\+E\+G\+\_\+\+T\+AC}~0x\+F\+F07
\item 
\mbox{\Hypertarget{timer_8h_a0534322773d9344f3d4c858e409ef175}\label{timer_8h_a0534322773d9344f3d4c858e409ef175}} 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+S\+T\+A\+RT}~R\+E\+G\+\_\+\+D\+IV
\item 
\mbox{\Hypertarget{timer_8h_a35bf8095a86e8a5a2cab8a49cedb3107}\label{timer_8h_a35bf8095a86e8a5a2cab8a49cedb3107}} 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+E\+ND}~R\+E\+G\+\_\+\+T\+AC
\item 
\mbox{\Hypertarget{timer_8h_a9552c41a5b5e71c374a545241bb477ed}\label{timer_8h_a9552c41a5b5e71c374a545241bb477ed}} 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+S\+I\+ZE}~((R\+E\+G\+\_\+\+T\+AC-\/R\+E\+G\+\_\+\+D\+IV)+1)
\item 
\mbox{\Hypertarget{timer_8h_a6ea44ad6596ed5de72b9327adaa88deb}\label{timer_8h_a6ea44ad6596ed5de72b9327adaa88deb}} 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+C\+Y\+C\+LE}~4
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{timer_8h_a24760ee19380e2dee007d09da080355d}{timer\+\_\+init} (\hyperlink{structgbtimer__t}{gbtimer\+\_\+t} $\ast$timer, \hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$cpu)
\begin{DoxyCompactList}\small\item\em Initiates a timer. \end{DoxyCompactList}\item 
int \hyperlink{timer_8h_abfdfe5c5990b4a8319e1d1f227db5f31}{timer\+\_\+cycle} (\hyperlink{structgbtimer__t}{gbtimer\+\_\+t} $\ast$timer)
\begin{DoxyCompactList}\small\item\em Run one Timer cycle. \end{DoxyCompactList}\item 
int \hyperlink{timer_8h_aba042c8c96b5ed79dd1c563787374430}{timer\+\_\+bus\+\_\+listener} (\hyperlink{structgbtimer__t}{gbtimer\+\_\+t} $\ast$timer, \hyperlink{memory_8h_a8a6444037e4d5cc2bf8ba22a9d9e33ca}{addr\+\_\+t} addr)
\begin{DoxyCompactList}\small\item\em Timer bus listening handler. \end{DoxyCompactList}\item 
\hyperlink{bit_8h_ab6e831ce3850688e9d0c2bb9ec57fb45}{bit\+\_\+t} \hyperlink{timer_8h_ac0a2a9cc762ae430c83a823e5287b583}{timer\+\_\+state} (\hyperlink{structgbtimer__t}{gbtimer\+\_\+t} $\ast$timer)
\begin{DoxyCompactList}\small\item\em Getter for Timer state. \end{DoxyCompactList}\item 
void \hyperlink{timer_8h_a3e0c51aa6c52674ca23ff60b38834eaf}{timer\+\_\+incr\+\_\+if\+\_\+state\+\_\+change} (\hyperlink{structgbtimer__t}{gbtimer\+\_\+t} $\ast$timer, \hyperlink{bit_8h_ab6e831ce3850688e9d0c2bb9ec57fb45}{bit\+\_\+t} old\+\_\+state)
\begin{DoxyCompactList}\small\item\em Increase secondary counter of Timer when state changes accordingly. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Game Boy Timer simulation header. 

\begin{DoxyAuthor}{Author}
C. HÃ¶lzl, E\+P\+FL 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2019 
\end{DoxyDate}


\subsection{Function Documentation}
\mbox{\Hypertarget{timer_8h_aba042c8c96b5ed79dd1c563787374430}\label{timer_8h_aba042c8c96b5ed79dd1c563787374430}} 
\index{timer.\+h@{timer.\+h}!timer\+\_\+bus\+\_\+listener@{timer\+\_\+bus\+\_\+listener}}
\index{timer\+\_\+bus\+\_\+listener@{timer\+\_\+bus\+\_\+listener}!timer.\+h@{timer.\+h}}
\subsubsection{\texorpdfstring{timer\+\_\+bus\+\_\+listener()}{timer\_bus\_listener()}}
{\footnotesize\ttfamily int timer\+\_\+bus\+\_\+listener (\begin{DoxyParamCaption}\item[{\hyperlink{structgbtimer__t}{gbtimer\+\_\+t} $\ast$}]{timer,  }\item[{\hyperlink{memory_8h_a8a6444037e4d5cc2bf8ba22a9d9e33ca}{addr\+\_\+t}}]{addr }\end{DoxyParamCaption})}



Timer bus listening handler. 


\begin{DoxyParams}{Parameters}
{\em timer} & timer \\
\hline
{\em address} & trigger address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
error code 
\end{DoxyReturn}
\mbox{\Hypertarget{timer_8h_abfdfe5c5990b4a8319e1d1f227db5f31}\label{timer_8h_abfdfe5c5990b4a8319e1d1f227db5f31}} 
\index{timer.\+h@{timer.\+h}!timer\+\_\+cycle@{timer\+\_\+cycle}}
\index{timer\+\_\+cycle@{timer\+\_\+cycle}!timer.\+h@{timer.\+h}}
\subsubsection{\texorpdfstring{timer\+\_\+cycle()}{timer\_cycle()}}
{\footnotesize\ttfamily int timer\+\_\+cycle (\begin{DoxyParamCaption}\item[{\hyperlink{structgbtimer__t}{gbtimer\+\_\+t} $\ast$}]{timer }\end{DoxyParamCaption})}



Run one Timer cycle. 


\begin{DoxyParams}{Parameters}
{\em timer} & timer to cycle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
error code 
\end{DoxyReturn}
\mbox{\Hypertarget{timer_8h_a3e0c51aa6c52674ca23ff60b38834eaf}\label{timer_8h_a3e0c51aa6c52674ca23ff60b38834eaf}} 
\index{timer.\+h@{timer.\+h}!timer\+\_\+incr\+\_\+if\+\_\+state\+\_\+change@{timer\+\_\+incr\+\_\+if\+\_\+state\+\_\+change}}
\index{timer\+\_\+incr\+\_\+if\+\_\+state\+\_\+change@{timer\+\_\+incr\+\_\+if\+\_\+state\+\_\+change}!timer.\+h@{timer.\+h}}
\subsubsection{\texorpdfstring{timer\+\_\+incr\+\_\+if\+\_\+state\+\_\+change()}{timer\_incr\_if\_state\_change()}}
{\footnotesize\ttfamily void timer\+\_\+incr\+\_\+if\+\_\+state\+\_\+change (\begin{DoxyParamCaption}\item[{\hyperlink{structgbtimer__t}{gbtimer\+\_\+t} $\ast$}]{timer,  }\item[{\hyperlink{bit_8h_ab6e831ce3850688e9d0c2bb9ec57fb45}{bit\+\_\+t}}]{old\+\_\+state }\end{DoxyParamCaption})}



Increase secondary counter of Timer when state changes accordingly. 


\begin{DoxyParams}{Parameters}
{\em timer} & Timer \\
\hline
{\em old} & state of the timer \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{timer_8h_a24760ee19380e2dee007d09da080355d}\label{timer_8h_a24760ee19380e2dee007d09da080355d}} 
\index{timer.\+h@{timer.\+h}!timer\+\_\+init@{timer\+\_\+init}}
\index{timer\+\_\+init@{timer\+\_\+init}!timer.\+h@{timer.\+h}}
\subsubsection{\texorpdfstring{timer\+\_\+init()}{timer\_init()}}
{\footnotesize\ttfamily int timer\+\_\+init (\begin{DoxyParamCaption}\item[{\hyperlink{structgbtimer__t}{gbtimer\+\_\+t} $\ast$}]{timer,  }\item[{\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$}]{cpu }\end{DoxyParamCaption})}



Initiates a timer. 


\begin{DoxyParams}{Parameters}
{\em timer} & timer to initiate \\
\hline
{\em cpu} & cpu to use for timer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
error code 
\end{DoxyReturn}
\mbox{\Hypertarget{timer_8h_ac0a2a9cc762ae430c83a823e5287b583}\label{timer_8h_ac0a2a9cc762ae430c83a823e5287b583}} 
\index{timer.\+h@{timer.\+h}!timer\+\_\+state@{timer\+\_\+state}}
\index{timer\+\_\+state@{timer\+\_\+state}!timer.\+h@{timer.\+h}}
\subsubsection{\texorpdfstring{timer\+\_\+state()}{timer\_state()}}
{\footnotesize\ttfamily \hyperlink{bit_8h_ab6e831ce3850688e9d0c2bb9ec57fb45}{bit\+\_\+t} timer\+\_\+state (\begin{DoxyParamCaption}\item[{\hyperlink{structgbtimer__t}{gbtimer\+\_\+t} $\ast$}]{timer }\end{DoxyParamCaption})}



Getter for Timer state. 


\begin{DoxyParams}{Parameters}
{\em timer} & Timer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
state of the timer 
\end{DoxyReturn}
