\hypertarget{cpu_8c}{}\section{cpu.\+c File Reference}
\label{cpu_8c}\index{cpu.\+c@{cpu.\+c}}


Game Boy C\+PU simulation.  


{\ttfamily \#include \char`\"{}cpu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}cpu-\/alu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}cpu-\/registers.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}cpu-\/storage.\+h\char`\"{}}\newline
Include dependency graph for cpu.\+c\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{cpu_8c_a7449e22f2f4ab77db550aff8db36f3df}{cpu\+\_\+init} (\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$cpu)
\begin{DoxyCompactList}\small\item\em Starts the cpu by initializing all registers at zero. \end{DoxyCompactList}\item 
int \hyperlink{cpu_8c_a6410926983c64b5a2b2f99782f4e9e12}{cpu\+\_\+plug} (\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$cpu, \hyperlink{bus_8h_a68c80bdf896e826e4cb082244ce35427}{bus\+\_\+t} $\ast$bus)
\begin{DoxyCompactList}\small\item\em Plugs a bus into the cpu. \end{DoxyCompactList}\item 
void \hyperlink{cpu_8c_aeb9f829d867a0e851703b6c5d2a991cb}{cpu\+\_\+free} (\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$cpu)
\begin{DoxyCompactList}\small\item\em Frees a cpu. \end{DoxyCompactList}\item 
int \hyperlink{cpu_8c_a08507af22a686123f9d9d52f89751622}{test\+\_\+cc} (int cc, \hyperlink{alu_8h_abadb4591ed8f9b06ae6b6a53337ce19e}{flags\+\_\+t} flags)
\begin{DoxyCompactList}\small\item\em Check flag conditions. \end{DoxyCompactList}\item 
int \hyperlink{cpu_8c_a91f4a5651c00c4455a22124efdefce7a}{cpu\+\_\+cycle} (\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$cpu)
\begin{DoxyCompactList}\small\item\em Run one C\+PU cycle. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{cpu_8c_a7ceb3d318a738ef0b62c77b267dcf7d8}\label{cpu_8c_a7ceb3d318a738ef0b62c77b267dcf7d8}} 
void \hyperlink{cpu_8c_a7ceb3d318a738ef0b62c77b267dcf7d8}{cpu\+\_\+request\+\_\+interrupt} (\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$cpu, \hyperlink{cpu_8h_aa2df1a487217dc7dae6bbbf1f2f2f882}{interrupt\+\_\+t} i)
\begin{DoxyCompactList}\small\item\em Set an interruption. \end{DoxyCompactList}\item 
int \hyperlink{cpu_8c_a9b18bb5232dfc6e23161a7614c82acbd}{I\+F\+\_\+\+I\+E\+\_\+compare} (\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$cpu)
\begin{DoxyCompactList}\small\item\em Check if there is a bit equal to 1 in IE and IF. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Game Boy C\+PU simulation. 

\begin{DoxyDate}{Date}
2019 
\end{DoxyDate}


\subsection{Function Documentation}
\mbox{\Hypertarget{cpu_8c_a91f4a5651c00c4455a22124efdefce7a}\label{cpu_8c_a91f4a5651c00c4455a22124efdefce7a}} 
\index{cpu.\+c@{cpu.\+c}!cpu\+\_\+cycle@{cpu\+\_\+cycle}}
\index{cpu\+\_\+cycle@{cpu\+\_\+cycle}!cpu.\+c@{cpu.\+c}}
\subsubsection{\texorpdfstring{cpu\+\_\+cycle()}{cpu\_cycle()}}
{\footnotesize\ttfamily int cpu\+\_\+cycle (\begin{DoxyParamCaption}\item[{\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$}]{cpu }\end{DoxyParamCaption})}



Run one C\+PU cycle. 


\begin{DoxyParams}{Parameters}
{\em cpu} & (modified), the C\+PU which shall run \\
\hline
{\em cycle,the} & cycle number to run, starting from 0 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
error code 
\end{DoxyReturn}
\mbox{\Hypertarget{cpu_8c_aeb9f829d867a0e851703b6c5d2a991cb}\label{cpu_8c_aeb9f829d867a0e851703b6c5d2a991cb}} 
\index{cpu.\+c@{cpu.\+c}!cpu\+\_\+free@{cpu\+\_\+free}}
\index{cpu\+\_\+free@{cpu\+\_\+free}!cpu.\+c@{cpu.\+c}}
\subsubsection{\texorpdfstring{cpu\+\_\+free()}{cpu\_free()}}
{\footnotesize\ttfamily void cpu\+\_\+free (\begin{DoxyParamCaption}\item[{\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$}]{cpu }\end{DoxyParamCaption})}



Frees a cpu. 


\begin{DoxyParams}{Parameters}
{\em cpu} & cpu to free \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cpu_8c_a7449e22f2f4ab77db550aff8db36f3df}\label{cpu_8c_a7449e22f2f4ab77db550aff8db36f3df}} 
\index{cpu.\+c@{cpu.\+c}!cpu\+\_\+init@{cpu\+\_\+init}}
\index{cpu\+\_\+init@{cpu\+\_\+init}!cpu.\+c@{cpu.\+c}}
\subsubsection{\texorpdfstring{cpu\+\_\+init()}{cpu\_init()}}
{\footnotesize\ttfamily int cpu\+\_\+init (\begin{DoxyParamCaption}\item[{\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$}]{cpu }\end{DoxyParamCaption})}



Starts the cpu by initializing all registers at zero. 


\begin{DoxyParams}{Parameters}
{\em cpu} & cpu to start\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
error code 
\end{DoxyReturn}
\mbox{\Hypertarget{cpu_8c_a6410926983c64b5a2b2f99782f4e9e12}\label{cpu_8c_a6410926983c64b5a2b2f99782f4e9e12}} 
\index{cpu.\+c@{cpu.\+c}!cpu\+\_\+plug@{cpu\+\_\+plug}}
\index{cpu\+\_\+plug@{cpu\+\_\+plug}!cpu.\+c@{cpu.\+c}}
\subsubsection{\texorpdfstring{cpu\+\_\+plug()}{cpu\_plug()}}
{\footnotesize\ttfamily int cpu\+\_\+plug (\begin{DoxyParamCaption}\item[{\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$}]{cpu,  }\item[{\hyperlink{bus_8h_a68c80bdf896e826e4cb082244ce35427}{bus\+\_\+t} $\ast$}]{bus }\end{DoxyParamCaption})}



Plugs a bus into the cpu. 


\begin{DoxyParams}{Parameters}
{\em cpu} & cpu to plug into \\
\hline
{\em bus} & bus to plug\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
error code 
\end{DoxyReturn}
\mbox{\Hypertarget{cpu_8c_a9b18bb5232dfc6e23161a7614c82acbd}\label{cpu_8c_a9b18bb5232dfc6e23161a7614c82acbd}} 
\index{cpu.\+c@{cpu.\+c}!I\+F\+\_\+\+I\+E\+\_\+compare@{I\+F\+\_\+\+I\+E\+\_\+compare}}
\index{I\+F\+\_\+\+I\+E\+\_\+compare@{I\+F\+\_\+\+I\+E\+\_\+compare}!cpu.\+c@{cpu.\+c}}
\subsubsection{\texorpdfstring{I\+F\+\_\+\+I\+E\+\_\+compare()}{IF\_IE\_compare()}}
{\footnotesize\ttfamily int I\+F\+\_\+\+I\+E\+\_\+compare (\begin{DoxyParamCaption}\item[{\hyperlink{structcpu__t}{cpu\+\_\+t} $\ast$}]{cpu }\end{DoxyParamCaption})}



Check if there is a bit equal to 1 in IE and IF. 


\begin{DoxyParams}{Parameters}
{\em cpu} & cpu to check\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
index of the bit or -\/1 if none found 
\end{DoxyReturn}
\mbox{\Hypertarget{cpu_8c_a08507af22a686123f9d9d52f89751622}\label{cpu_8c_a08507af22a686123f9d9d52f89751622}} 
\index{cpu.\+c@{cpu.\+c}!test\+\_\+cc@{test\+\_\+cc}}
\index{test\+\_\+cc@{test\+\_\+cc}!cpu.\+c@{cpu.\+c}}
\subsubsection{\texorpdfstring{test\+\_\+cc()}{test\_cc()}}
{\footnotesize\ttfamily int test\+\_\+cc (\begin{DoxyParamCaption}\item[{int}]{cc,  }\item[{\hyperlink{alu_8h_abadb4591ed8f9b06ae6b6a53337ce19e}{flags\+\_\+t}}]{flags }\end{DoxyParamCaption})}



Check flag conditions. 


\begin{DoxyParams}{Parameters}
{\em cc} & condition to check, flags flags to check condition on\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if condition tested true, 0 if false 
\end{DoxyReturn}
